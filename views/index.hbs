<div class="container">
  <div class="row align-items-center mb-3 m-5 justify-content-center">    
    <div class="col-6">
      <table class="table table-striped table-hover">
        <!-- 選擇輸入框 -->     
        <form class="d-flex flex-row" action="/search" method="GET">        
          <select class="form-select col" id="category" name="category" onchange="this.form.submit()">
            <option value="">全部</option>            
            {{#each categories}}
              <option value="{{ this._id }}" {{#if this.selected}}
                selected
              {{/if}}>                
              {{ this.name }}
              </option>
            {{/each}}
          </select>
        </form>
        <!--總金額-->
        <div class="container text-center">
          <div class="row">
            <div class="col">
              <p class="m-3">總金額:</p>              
            </div>
            <div class="col">
              <h1 class="m-3">{{totalAmount}}</h1>              
            </div>
          </div>

          <div class="row">  
          </div>
        </div>        
      </table>
      <!--清單-->
      <ul class="list-group">
        {{#each records}}
          <li class="list-group-item justify-content-between align-items-start">            
            <div class="row align-items-center ">
              <div class="col">
                <i class="{{this.categoryId.icon}} justify-content-end"></i>
              </div>
              <div class="col">                
                  {{this.name}}<br>
                  {{this.date}}                      
              </div>              
              <div class="col">
                NT${{this.amount}}
              </div>
              <!--按鈕-->
              <div class="col d-flex justify-content-md-end  m-3">
                <a href="./records/{{ this._id }}/edit"><button
                    class="btn btn-outline-success btn-sm m-1">Edit</button></a>              
                <form action="/records/{{this._id}}?_method=DELETE" method="POST">
                  <button type="submit" class="btn btn-outline-danger btn-sm m-1">Delete</button>
                </form>
              </div> 

            </div>
          </li>         
        {{/each}}
      </ul>

      <!--新增按鈕-->
      <div class="d-grid gap-2 m-auto d-flex justify-content-center">
        <a
          class="btn btn-secondary col-3 mt-4"
          href="/records/new"
          role="button"
        >新增支出</a></div>
      </div>

    </div>
  </div>
</div>